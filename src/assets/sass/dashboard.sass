@use 'general'
@use 'vars' as v
@use 'fonts'
@use 'mixins' as m
@use "sass:color"

$meter-transition: 0.2s ease-in

.content
    display: grid
    gap: 25px
    // justify-items: center

    grid-template-columns: repeat(12, 1fr)
    grid-template-rows: 4fr 5fr 3fr

    padding: 30px
    // width: 100%

    margin-left: 248px

.grid
    border-radius: 14px
    background-color: v.$primary1
    color: v.$text

    // general modifiers
    &_3
        grid-column: span 3

    &_4
        grid-column: span 4

    &_6
        grid-column: span 6

    &_meter
        // min-width: 150px
        @include m.flexc
        transition: $meter-transition

    // elements
    &__logo
        margin-top: 22.5px

    &__circle
        transition: $meter-transition
        position: absolute
        width: 40px
        height: 40px
        border-radius: 50%
        opacity: 0.1

    &__icon
        transition: $meter-transition
        width: 40px
        height: 40px

    &__name
        transition: $meter-transition
        opacity: 0
        margin-top: 10px
        font-size: 24px
        font-weight: 700

    &__progress
        @include m.flexc
        width: 100%
        margin-top: 30px

    // АКТИВНОЕ СОСТОЯНИЕ
    &.grid_active   // Здесь двойной селектор (.grid.grid_active) нужен, так как ниже идет правило, которое по специфичности перебьет в ином случае

        .grid__name
            opacity: 1

        .grid__circle
            background-color: v.$text

        .grid__icon
            background-color: v.$text

        .progress__empty path
            stroke:  v.$text
            stroke-opacity: 0.1

        .progress__current path
            stroke:  v.$text

    // Конкретные модификаторы
    &_id_energy

        // inactive state
        .grid__circle
            background-color: v.$primary3

        .grid__icon
            // mask-image: url('/assets/img/energy.svg')
            // -webkit-mask-image: url('/assets/img/energy.svg')
            mask-image: url('/src/assets/img/dashboard/meters/energy.svg')
            -webkit-mask-image: url('/src/assets/img/dashboard/meters/energy.svg')
            background-color: v.$primary3

        .progress__current path
            stroke: v.$primary3
            
        // active state
        &.grid_active
            background-color: v.$primary3

    &_id_range

        // inactive state
        .grid__circle
            background-color: v.$secondary1

        .grid__icon
            // mask-image: url('/assets/img/range.svg')
            // -webkit-mask-image: url('/assets/img/range.svg')
            mask-image: url('/src/assets/img/dashboard/meters/range.svg')
            -webkit-mask-image: url('/src/assets/img/dashboard/meters/range.svg')
            background-color: v.$secondary1

        .progress__current path
            stroke: v.$secondary1

            // active state
        &.grid_active
            background-color: v.$secondary1

    &_id_brake-fluid

        // inactive state
        .grid__circle
            background-color: v.$primary3

        .grid__icon
            mask-image: url('/src/assets/img/dashboard/meters/brake-fluid.svg')
            -webkit-mask-image: url('/src/assets/img/dashboard/meters/brake-fluid.svg')
            background-color: v.$primary3

        .progress__current path
            stroke: v.$primary3

        // active state
        &.grid_active
            background-color: v.$primary3

    &_id_tire-wear

        // inactive state
        .grid__circle
            background-color: v.$secondary2

        .grid__icon
            // mask-image: url('/assets/img/tire_wear.svg')
            // -webkit-mask-image: url('/assets/img/tire_wear.svg')
            mask-image: url('/src/assets/img/dashboard/meters/tire_wear.svg')
            -webkit-mask-image: url('/src/assets/img/dashboard/meters/tire_wear.svg')
            background-color: v.$secondary2

        .progress__current path
            stroke: v.$secondary2

        // active state
        &.grid_active
            background-color: v.$secondary2


.progress

    path
        transition: $meter-transition

    &__bar
        position: absolute
        width: 112px
        height: 95px
        
    &__empty
        position: absolute
        path
            stroke: v.$background

    &__current
        position: absolute

    &__percentage
        margin-top: 36px
        font-size: 24px
        font-weight: 700

.stats
    &__column
        transition: 0.2s ease-in

    &__chart-item 

        &:last-child .stats__spacer 
            display: none

        &_hovered .stats__column
            background-color: v.$secondary3

.stats_cars
    .stats__timespan
        background-color: v.$background2
        border-radius: 10px
        order: 2

        .stats__day, .stats__week, .stats__month

            + label:hover
                outline: 2px solid v.$secondary4
                background-color: v.$secondary4transparent

            &:checked + label
                background-color: v.$secondary4

    .stats__chart
        position: relative

    .stats__chart-item
        flex-grow: 1

        .stats__spacer
            position: static
            display: block

    .stats__graphics
        pointer-events: none
        position: absolute
        width: 100%
        height: 100%

    .stats__svg
        position: absolute
        width: 100%
        height: 100%

        .data__line
            color: v.$secondary4

        .data__gradient
            color: v.$secondary4

.product-card
    padding: 15px 27px
    color: v.$dark1
    font-size: 16px
    font-weight: 700

    &__recommendation
        display: flex

    &__recommendation-svg
        margin-right: 10px

        path
            fill: v.$dark3

    // modifiers
    &_n1
        background-color: v.$tertiary1